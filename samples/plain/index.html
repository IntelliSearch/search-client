<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IntelliSearch SearchClient</title>
    <link rel="stylesheet" href="awesomplete.css">
    <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body>
    <div id="container" class="welcome">
        <header id="header">
            <div id="top">
                <a id="logo" href="./"></a>
                <h1>IntelliSearch SearchClient</h1>
                <div class="query">
                    <div id="spinner"></div>
                    <textarea id="query-text" placeholder="Enter search-query..." autofocus></textarea>
                    <button tabIndex="-1" id="reset" class="hidden">X</button>
                    <button id="go">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                            </svg>
                        </span>
                    </button>
                </div>
                <div id="menu">
                    <button id="menu-button">☰</button>
                    <div id="menu-list">
                        <li id="menu-option-help">Help</li>
                        <li id="menu-option-toggle-details">Toggle details</li>
                        <li id="menu-option-settings">Settings</li>
                        <li id="menu-option-about">About</li>
                    </div>
                </div>
            </div>
            <div id="tabs">
                <div>Alle</div>
                <div>Filserver</div>
                <div>Mail</div>
            </div>
        </header>

        <div id="error">
            <h2>Ops! Something went wrong.</h2>
            <p>
                We apologize for this inconvenience. Please try again.<br /> If the problem persists then please report this
                issue.
            </p>
            <button>Send report (not implemented yet)</button>
            <h3>Error details</h3>
            <div id="matches-error">
            </div>
            <div id="categories-error">
            </div>
            <div id="generic-error">
            </div>
        </div>

        <div id="welcome">
            <h1>Welcome</h1>
            <p>
                Please enter your search-query in the top query-field.
                <br /> For more help, click <a href="javascript:showTips()" title="Tips on efficient searching">here</a>.
                <br /> For more information about IntelliSearch, click <a href="javascript:window.INTS_ShowAbout()" title="About IntelliSearch">here</a>.
            </p>
            <h2>Status</h2>
            <div id="status">
                <span id="status-code">✓</span>
                <span id="message">All systems nominal.</span>
            </div>
            <h2>Sources</h2>
            <dl>
                <dt>Exchange e-mail</dt>
                <dd>All individual mailboxes, plus shared mailboxes (support, info)</dd>
                <dt>Dropbox shares</dt>
                <dd>Management, common</dd>
                <dt>Slack</dt>
                <dd>All channels, except private.</dd>
                <dt>Jira</dt>
                <dd>All projects, as well as the help-desk extension.</dd>
                <dt>Confluence</dt>
                <dd>The new online Confluence instance, plus the old local installation.</dd>
                <dt>RSS: Search-engine news</dt>
                <dd>...</dd>
            </dl>
            <h2>Security</h2>
            <p>
                It is set up to handle authentication and security via Windows Integrated Security, meaning that you need to be logged in
                to the company domain to get any results. If you are accessing the system from outside the company a separate
                login may be required.
            </p>
        </div>

        <nav id="categories">
            <div class="categories-header">
                <span id="categories-stats"></span>
            </div>
            <div id="categories-tree"></div>
        </nav>

        <div id="category-dimmer">
            <div class="whiteout">
                <div class="loader-wrapper">
                    <div class="loader"></div>
                </div>
            </div>
        </div>

        <main id="matches">
            <div id="matches-header">
                <span id="matches-stats"></span>
                <div id="matches-order">
                    <span class="header">Order by:</span>
                    <input id="option-relevance" type="radio" checked="checked" name="order-by" />
                    <label for="option-relevance">Relevance</label>
                    <input id="option-date" type="radio" name="order-by" />
                    <label for="option-date">Date</label>
                </div>
            </div>
            <div id="did-you-mean-container">
                <label>Did you mean:</label>
                <ul id="did-you-mean"></ul>
            </div>
            <div id="matches-list">
            </div>
            <div id="no-matches">
                <ul>
                    <li>The current query did not match any items in the search-index.</li>
                    <li>Please try to change the search-expression or remove filters (if set).</li>
                    <li>You can also try to change the type of search by changing the all words / any word setting.</li>
                    <li>If you still cannot find what you are looking for, please verify that the source the item you are
                        looking for is indexed.</li>
                    <li>If you still cannot find the item you are looking for then please contact your administrator. It
                        is important that you enquire on this in order for the administrator to be able to adjust and tune
                        the search.</li>
                </ul>
            </div>
            <div id="matches-pager">
                <label id="matches-pager-label"></label>
                <ul id="matches-pager-items"></ul>
            </div>
        </main>

        <aside id="details" class="showhelp">
            <div id="details-help">
                <p>
                    Hover the cursor over a match to see match-details.
                </p>
            </div>
            <div id="details-header">
                <div id="details-title"></div>
                <div id="details-types">
                    <input id="details-option-content" type="radio" checked="checked" name="details" />
                    <label for="details-option-content">Content</label>
                    <input id="details-option-properties" type="radio" name="details" />
                    <label for="details-option-properties">Details</label>
                </div>
            </div>
            <div id="details-content"></div>
            <div id="details-properties"></div>
        </aside>

        <div id="settings">
            <div class="dialog">
                <header>
                    <h1>Settings</h1>
                    <ul class="tab-container">
                        <li id="search" class="tab current">Search</li>
                        <li id="ui" class="tab">Interface</li>
                    </ul>
                    <button id="settings-close-button">X</button>
                </header>
                <main id="settings-main" class="tab-content-container">
                    <div id="tab-search" class="tab-content current">
                        <ul class="tab-container">
                            <li id="search-main" class="tab current" title="Common settings">Main</li>
                            <li id="search-autocomplete" class="tab" title="Autocomplete service settings">Autocomplete</li>
                            <li id="search-find" class="tab" title="Find service settings">Find</li>
                            <li id="search-categorize" class="tab" title="Categorize service settings">Categorize</li>
                            <li id="search-authentication" class="tab" title="Authentication service settings">Authentication</li>
                            <li id="search-query" class="tab" title="Query service settings">Query</li>
                        </ul>
                        <div class="tab-content-container">
                            <div id="tab-search-main" class="tab-content current key-value-grid">
                                <legend for="tab-search-main-base-url" title="Required. The common default base-url for the server (domain), including the protocol.">BaseUrl</legend>
                                <input id="tab-search-main-base-url" type="text">

                                <legend for="tab-search-main-base-path" title="Optional. The common base-path for the server (defaults to 'RestService/v4').">BasePath</legend>
                                <input id="tab-search-main-base-path" type="text">
                                <p>
                                    The exported search-settings json file must be copied in to the root folder of the search-ui web-application, to be considered
                                    the new defaults.
                                </p>
                                <button>TODO: Export</button>
                            </div>
                            <div id="tab-search-autocomplete" class="tab-content key-value-grid">
                                <legend>Autocomplete</legend>
                                <ul>
                                    <li>BaseUrl</li>
                                    <li>BasePath</li>
                                </ul>
                            </div>
                            <div id="tab-search-find" class="tab-content key-value-grid">
                                <legend>Find</legend>
                                <ul>
                                    <li>BaseUrl</li>
                                    <li>BasePath</li>
                                </ul>
                            </div>
                            <div id="tab-search-categorize" class="tab-content key-value-grid">
                                <legend>Categorize</legend>
                                <ul>
                                    <li>BaseUrl</li>
                                    <li>BasePath</li>
                                </ul>
                            </div>
                            <div id="tab-search-authentication" class="tab-content key-value-grid">
                                <legend>Authentication</legend>
                                <ul>
                                    <li>BaseUrl</li>
                                    <li>BasePath</li>
                                </ul>
                            </div>
                            <div id="tab-search-query" class="tab-content key-value-grid">
                                <legend for="tab-search-query-settings-categorization-type" title="Controls the type of category-tree that is returned on searches.">CategorizationType</legend>
                                <select id="tab-search-query-settings-categorization-type">
                                    <option title="Returns all categories, always.">All Categories</option>
                                    <option title="Returns only categories that has matches.">DocumentHitsOnly</option>
                                </select>

                                <legend for="tab-search-query-settings-client-id" title="These help identify the various searches in the search-engine backend statistics. Plus, you can tune the backend to i.e. deliver different category-trees depending on the client-id in use.">ClientId</legend>
                                <input id="tab-search-query-settings-client-id" type="text">

                                <legend for="tab-search-query-settings-date-from" title="Usually used in the UI directly, as opposed to as a preset value. For specific cases though it might be a valid choice to make this a hard preset.">DateFrom</legend>
                                <input id="tab-search-query-settings-date-from" type="date">

                                <legend for="tab-search-query-settings-date-to" title="Usually used in the UI directly, as opposed to as a preset value. For specific cases though it might be a valid choice to make this a hard preset.">DateTo</legend>
                                <input id="tab-search-query-settings-date-to" type="date">

                                <legend for="tab-search-query-settings-filters" title="Usually used in the UI directly, as opposed to as a preset value. For specific cases though it might be a valid choice to make this a hard preset.">Filters</legend>
                                <textarea id="tab-search-query-settings-filters"></textarea>

                                <legend for="tab-search-query-settings-match-generate-content" title="Usually the end-user will not have to consider this. For the search designer it is important to consider whether or not to show the match contents. Note: This setting requires the search-engine backend to allow content generation to be effective.">MatchGenerateContent</legend>
                                <input id="tab-search-query-settings-match-generate-content" type="checkbox">

                                <legend for="tab-search-query-settings-match-generate-content-highlights" title="Only effective if MatchGenerateContent is checked. Enables highlighting words in the content according to the matches that was made.">MatchGenerateContentHighlights</legend>
                                <input id="tab-search-query-settings-match-generate-content-highlights" type="checkbox">

                                <legend for="tab-search-query-settings-match-grouping" title="Enabled grouping of results, for the sources that supports this (i.e. mail).">MatchGrouping</legend>
                                <input id="tab-search-query-settings-match-grouping" type="checkbox">

                                <legend for="tab-search-query-settings-match-page" title="Reflects the current result-set page. Note: Not included in the export.">MatchPage</legend>
                                <input id="tab-search-query-settings-match-page" type="number">

                                <legend for="tab-search-query-settings-match-page-size" title="Controls the number of matches per page that is to be delivered.">MatchPageSize</legend>
                                <input id="tab-search-query-settings-match-page-size" type="number">

                                <legend for="tab-search-query-settings-match-order-by" title="Controls the order of the match-results.">MatchOrderBy</legend>
                                <select id="tab-search-query-settings-match-order-by">
                                    <option title="Most relevant hits on top">Relevance</option>
                                    <option title="Newest items on top, based on modification date.">Date</option>
                                </select>

                                <legend for="tab-search-query-settings-max-suggestions" title="Controls the number of autocomplete suggestions to receive.">MaxSuggestions</legend>
                                <input id="tab-search-query-settings-max-suggestions" type="number">

                                <legend for="tab-search-query-settings-query-text" title="Reflects the current result-set query-text. Note: Not included in the export.">QueryText</legend>
                                <input id="tab-search-query-settings-query-text" type="text">

                                <legend for="tab-search-query-settings-search-type" title="Controls what kind of search to make.">SearchType</legend>
                                <select id="tab-search-query-settings-search-type">
                                    <option title="Return matches where all the words in the QueryText is used.">Match All
                                    </option>
                                    <option title="Return matches where at least one of the words in the QueryText is used.">Match
                                        Any
                                    </option>
                                </select>

                                <legend for="tab-search-query-settings-ui-language-code" title="Controls the language of some of the returned data (like category-names for instance).">UiLanguageCode</legend>
                                <input id="tab-search-query-settings-ui-language-code" type="text">
                            </div>
                        </div>
                    </div>
                    <div id="tab-ui" class="tab-content">
                        <ul class="tab-container">
                            <li id="ui-main" class="tab current">Main</li>
                            <!--li id="ui-categories" class="tab">Categories</li-->
                            <li id="ui-match-pager" class="tab">Match-pager</li>
                            <li id="ui-match-categories" class="tab">Match-categories</li>
                            <li id="ui-details" class="tab">Details</li>
                        </ul>
                        <div class="tab-content-container">
                            <div id="tab-ui-main" class="tab-content help current">
                                <p>
                                    The user interface settings define how the various interface components behave.
                                </p>
                                <p>
                                    Components:
                                    <ul>
                                        <li>Categories (todo)</li>
                                        <li>Matches-pager</li>
                                        <li>Matches-categories</li>
                                        <li>Details-pane</li>
                                    </ul>
                                </p>

                            </div>
                            <!--div id="tab-ui-categories" class="tab-content key-value-grid">
                                Categories: None, yet at least...
                            </div-->
                            <div id="tab-ui-match-pager" class="tab-content key-value-grid">
                                <label for="tab-ui-matches-pager-size" title="Controls the number of items to show in the pager.">Pager
                                    size
                                </label>
                                <input id="tab-ui-matches-pager-size" type="number">

                                <label for="tab-ui-matches-pager-first" title="Controls whether or not to add a link to the first page.">Show
                                    link to first-page</label>
                                <input id="tab-ui-matches-pager-first" type="checkbox">

                                <label for="tab-ui-matches-pager-size" title="Controls whether or not to add a link to the previous page.">Show
                                    link to previous page</label>
                                <input id="tab-ui-matches-pager-size" type="checkbox">

                                <label for="tab-ui-matches-pager-size" title="Controls whether or not to add a link to the next page.">Show
                                    link to next page</label>
                                <input id="tab-ui-matches-pager-size" type="checkbox">

                                <label for="tab-ui-matches-pager-size" title="Controls whether or not to add a link to the last page.">Show
                                    link to last page</label>
                                <input id="tab-ui-matches-pager-size" type="checkbox">
                            </div>
                            <div id="tab-ui-match-categories" class="tab-content key-value-grid">
                                <label for="tab-ui-matches-categories-enabled" title="Controls whether or not to show categories with the results.">Enabled</label>
                                <input id="tab-ui-matches-categories-enabled" type="checkbox">
                                <label for="tab-ui-matches-categories-exclude" title="Listed categories are excluded. Each line is one regular expression.">Exclusion
                                    list
                                </label>
                                <textarea id="tab-ui-matches-categories-exclude"></textarea>
                            </div>
                            <div id="tab-ui-details" class="tab-content">
                                <label for="tab-ui-details-show" title="Controls whether or not to show the details pane.">Show
                                    details pane</label>
                                <input id="tab-ui-details-show" type="checkbox">
                                <div class="key-value-grid">

                                    <label for="tab-ui-details-properties-show" title="Controls whether or not to show properties in the details pane.">Show
                                        properties in details</label>
                                    <input id="tab-ui-details-properties-show" type="checkbox">

                                    <label for="tab-ui-details-properties-exclude" title="Listed properties are excluded from the details. Each line is one regular expression.">Property
                                        exclusion list</label>
                                    <textarea id="tab-ui-details-properties-exclude"></textarea>

                                    <label for="tab-ui-details-metadata-show" title="Controls whether or not to show properties in the details pane.">Show
                                        metadata in details</label>
                                    <input id="tab-ui-details-metadata-show" type="checkbox">

                                    <label for="tab-ui-details-metadata-exclude" title="Listed metadata are excluded from the details. Each line is one regular expression.">Metadata
                                        exclusion list</label>
                                    <textarea id="tab-ui-details-metadata-exclude"></textarea>

                                    <label for="tab-ui-details-categories-show" title="Controls whether or not to show categories in the details pane.">Show
                                        categories in details</label>
                                    <input id="tab-ui-details-categories-show" type="checkbox">

                                    <label for="tab-ui-details-categories-exclude" title="Listed categories are excluded from the details. Each line is one regular expression.">Category
                                        exclusion list</label>
                                    <textarea id="tab-ui-details-categories-exclude"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <div id="dimmer">
            <div class="whiteout">
                <div class="loader-wrapper">
                    <div class="loader"></div>
                </div>
            </div>
        </div>

        <footer id="footer">
            &copy; IntelliSearch Software AS
        </footer>
        <div id="about">
            <div class="whiteout">
                <div class="dialog">
                    <header>
                        <h1>About IntelliSearch</h1>
                        <div id="about-close-button">X</div>
                    </header>
                    <main>
                        <p>
                            IntelliSearch is a search-engine - not too unlike Google. If you can google something then you can also use IntelliSearch
                            to find relevant data. The difference between Google and IntelliSearch is that while Google is
                            your best friend in finding information online on the public internet, IntelliSearch is your
                            best companion in finding information within <strong>
                                specific sources</strong> in your domain.
                        </p>
                        <p>
                            Another important distinction is that IntelliSearch handle security. Google finds just about any information on the internet,
                            but the results are limited to items that are publicly available.
                            <br /> IntelliSearch is crafted ground up with security built-in. This means that it is able
                            to authenticate users and to add security for the items added to the search index, giving you
                            <strong>your</strong> results, and ensuring that no-one else can see your private items.
                        </p>
                        <p>
                            Searching for <strong>your</strong> content is now as easy as googling on the internet.
                        </p>
                        <p>
                            <strong>IntelliSearch - your internal Google!</strong>
                        </p>
                    </main>
                    <footer>
                        &copy; IntelliSearch Software AS
                    </footer>
                </div>
            </div>
        </div>
        <div id="help">
            <div class="whiteout">
                <div class="dialog">
                    <header>
                        <h1>Help</h1>
                        <div id="help-close-button">X</div>
                    </header>
                    <main>
                        <dl>
                            <dt>Categories:</dt>
                            <dd>
                                The category tree is very handy in your quest to help identify the items you are looking for. Clicking on categories makes
                                them filters that filter down results to match the chosen filters. The top-level categories
                                are called groups. Each group has categories that can be used for filtering. If you yse multiple
                                filters <strong>within the same group</strong> then these
                                filters are combined with 'OR'. Filters in different groups are combined with 'AND'.<br />                                The
                                categories that have been setup by the search administrator should be descriptive for your
                                use case.
                                <br />
                                <i>Please contact the search administrator for questions in regards to the categories available.
                                </i>
                            </dd>

                            <dt>Keywords:</dt>
                            <dd>
                                Use words that are as special as possible for the items you are looking for. For instance, searching for the word "is" will
                                most likely match on just about all items in the index. We instead recommend using rare words
                                that helps IntelliSearch to identify the items you are looking for.<br
                                /> By default IntelliSearch requires all words in the query to be present to match. After
                                the search is performed you will be presented with an option where you can change this to
                                instead execute a search that requires only one of the words to be present in the items to
                                become a match. The IntelliSearch relevance algorithms will ensure that items that has a
                                better match as listed on top.
                            </dd>

                            <dt>Phrases:</dt>
                            <dd>
                                If you add quotes around the search-expression then IntelliSearch will return only items where those words are used in sequence.
                                I.e. searching for <code>"lisa went to school"</code> instead
                                of just <code>lisa went to school</code>.
                            </dd>

                            <dt>Sorting:</dt>
                            <dd>
                                By default IntelliSearch orders results by relevance, most relevant first to least relevant last. IntelliSearch calculate
                                a match relevance per item it finds and puts the most relevant items on top. If you want
                                you can switch the ordering from Relevance to Date, where items are ordered from newest to
                                oldest.
                                <i>Note that relevance can be tuned in the search-engine. Please contact the search administrator
                                    if you have input on how items should be ordered.</i>
                            </dd>

                            <dt>Number-ranges:</dt>
                            <dd>
                                IntelliSearch can also help you find specific numbers in the indexed items. If you search for i.e. <code>100-150</code>                                then
                                IntelliSearch will return all items that has any number between 100 and 150 (inclusive).
                                The order of the expression can even be switched, IntelliSearch will understand that <code>150-100</code>                                means
                                the same as the previous expressions. You can also search for negative ranges, although the
                                expressions will look a bit weirder. For instance, <code>-100--200</code> will return all
                                items with the numbers -200 to -100 in them.
                                <br />
                                <i>Requires the number-plugin to be enabled in the search-engine.</i>
                            </dd>

                            <dt>Advanced language features:</dt>
                            <dd>
                                IntelliSearch will detect the language used in items and for Norwegian (bokmål as well as ny-norsk) we will amploy what is
                                called 'lemmatization' techniques in order to help identify the items you are looking for.
                                A fallback alternative is used for most other common languages, called 'stemming'. With lemmatization
                                enabled, searching for the word
                                <code>trær</code> for instance, will automatically also return items where the words
                                <code>tre</code>, <code>trær</code>, <code>trærne</code>, <code>treet</code> (etc.) are used.
                                <i>Requires the lemmatization-plugin to be enabled in the search-engine.</i>
                            </dd>
                        </dl>
                    </main>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="stacktrace.min.js"></script>
    <script src="awesomplete.js" async></script>
    <script type="text/javascript" src="IntelliSearch.js"></script>
    <script type="text/javascript" src="index.js"></script>
</body>

</html>
